
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
    <!-- Primary Meta Tags -->
    <meta name="title" content="MWSE-Lua Modding Tutorial - Based Morrowind Modding now using Lua!">
    <meta name="description" content="Learn to use MWSE-Lua in this tutorial for beginners! You will learn the basics of MWSE-Lua and make a MWSE-Lua mod step-by-step.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://amaliegay.github.io/mwse-modding-tutorial/">
    <meta property="og:title" content="MWSE-Lua Modding Tutorial - Based Morrowind Modding now using Lua!">
    <meta property="og:description" content="Learn to use MWSE-Lua in this tutorial for beginners! You will learn the basics of MWSE-Lua and make a MWSE-Lua mod step-by-step.">
    <meta property="og:image" content="https://amaliegay.github.io/mwse-modding-tutorial/assets/social-preview.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://amaliegay.github.io/mwse-modding-tutorial/">
    <meta property="twitter:title" content="MWSE-Lua Modding Tutorial - Based Morrowind Modding now using Lua!">
    <meta property="twitter:description" content="Learn to use MWSE-Lua in this tutorial for beginners! You will learn the basics of MWSE-Lua and make a MWSE-Lua mod step-by-step.">
    <meta property="twitter:image" content="https://amaliegay.github.io/mwse-modding-tutorial/assets/social-preview.png">

    
    <title>MWSE-Lua Modding Tutorial - Based Morrowind Modding now using Lua!</title>

    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-2-modules-logging-crafting-framework-recipes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MWSE Modding Tutorial - Based Morrowind Modding now using Lua!" class="md-header__button md-logo" aria-label="MWSE Modding Tutorial - Based Morrowind Modding now using Lua!" data-md-component="logo">
      
  <img src="../assets/1200px-Lua-logo-nolabel-tutorial.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MWSE Modding Tutorial - Based Morrowind Modding now using Lua!
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Section 2: Modules, Logging, Crafting Framework Recipes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/amaliegay/mwse-modding-tutorial/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    amaliegay/mwse-modding-tutorial
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MWSE Modding Tutorial - Based Morrowind Modding now using Lua!" class="md-nav__button md-logo" aria-label="MWSE Modding Tutorial - Based Morrowind Modding now using Lua!" data-md-component="logo">
      
  <img src="../assets/1200px-Lua-logo-nolabel-tutorial.png" alt="logo">

    </a>
    MWSE Modding Tutorial - Based Morrowind Modding now using Lua!
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/amaliegay/mwse-modding-tutorial/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    amaliegay/mwse-modding-tutorial
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../1_introduction/" class="md-nav__link">
        Section 1: Introduction, Variables, Functions, Event-Based Programming
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Section 2: Modules, Logging, Crafting Framework Recipes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Section 2: Modules, Logging, Crafting Framework Recipes
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    Modules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    Logging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-arguments" class="md-nav__link">
    Function Arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    List
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crafting-framework-recipe" class="md-nav__link">
    Crafting Framework Recipe
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../3_mcm/" class="md-nav__link">
        Section 3: Mod Config Menu, If Statements, Concatenating Strings
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../4_adding_bandage_features/" class="md-nav__link">
        Section 4: Adding More Bandages Features
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../5_metadata/" class="md-nav__link">
        Section 5: Metadata File
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    Modules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    Logging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-arguments" class="md-nav__link">
    Function Arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    List
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crafting-framework-recipe" class="md-nav__link">
    Crafting Framework Recipe
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="section-2-modules-logging-crafting-framework-recipes">Section 2: Modules, Logging, Crafting Framework Recipes</h1>
<p>Welcome back, today we're gonna learn about modules, logging, function arguments, lists, Crafting Framework recipes, and we are going to test our script in game.</p>
<h2 id="modules">Modules</h2>
<p>Our mod relies on Skills Module, The Crafting Framework, and Ashfall. They need to be imported into our script so we have access to their functions. Imports are typically placed at the top of the script.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">ashfall</span> <span class="o">=</span> <span class="n">include</span><span class="p">(</span><span class="s2">&quot;mer.ashfall.interop&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">CraftingFramework</span> <span class="o">=</span> <span class="n">include</span><span class="p">(</span><span class="s2">&quot;CraftingFramework&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">skillModule</span> <span class="o">=</span> <span class="n">include</span><span class="p">(</span><span class="s2">&quot;OtherSkills.skillModule&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">logging</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;logging.logger&quot;</span><span class="p">)</span>
</code></pre></div>
<p><code>include</code> and <code>require</code> are the two ways to import modules to your script. The difference between the two is that <code>include</code> doesn't require you to have the mod installed, but <code>require</code> does.</p>
<h2 id="logging">Logging</h2>
<p>Besides the aforementioned mods, we should also import the logging module. I mentioned before there is another way to do and it's by creating a logger with the logging module. </p>
<div class="highlight"><pre><span></span><code><span class="c1">---@type mwseLogger</span>
<span class="kd">local</span> <span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="n">new</span><span class="p">({</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Craftable Bandage&quot;</span><span class="p">,</span>
    <span class="n">logLevel</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
<p>Now we can replace all occurrences of <code>mwse.log</code> with <code>log:info</code>. To replace phrases in VSCode, highlight the phrase you want to replace and press <strong>Ctrl + H</strong>, enter <code>log:info</code> and click <strong>Replace All</strong>.</p>
<h2 id="function-arguments">Function Arguments</h2>
<p>Now let's look back at the <code>initalizedCallback</code> function that we copied from the MWSE doc. You'll notice there is an <code>e</code> inside the parentheses. This is a function argument, specifically event data.</p>
<p>Event data is defined by MWSE and you can look them up in the <a href="https://mwse.github.io/MWSE/events/absorbedMagic/">MWSE doc events pages</a>. Here <code>@param</code> is a tag to specify the types of the parameters of a function. So here, parameter <code>e</code> is of type <code>initializedEventData</code>.</p>
<p>And we want to specify the parameter for function <code>registerBushcraftingRecipe()</code> as well. But the <code>Ashfall:ActivateBushcrafting:Registered</code> event is not added by MWSE. It is added by Crafting Framework (CF) and Ashfall.</p>
<p>The documentation for them isn't great yet. The best place to ask questions about CF will be over at the #crafting-framework channel in the <a href="https://discord.me/mwmods">Morrowind Modding Community discord server</a>. </p>
<p>Alternatively, you can just search the script. You can find the event data type in <code>CraftingFramework\components\MenuActivator.lua</code>. The event data is of type <code>CraftingFramework.MenuActivator.RegisteredEvent</code> and it has a menuActivator field. Copy this over to our script.</p>
<div class="highlight"><pre><span></span><code><span class="c1">--- @param e CraftingFramework.MenuActivator.RegisteredEvent</span>
<span class="kd">local</span> <span class="kr">function</span> <span class="nf">registerBushcraftingRecipe</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div>
<p>The menuActivator here is the activator that Crafting Framework just registered. Now let's create a local variable called <code>bushcraftingActivator</code> inside this function and set it to the <code>menuActivator</code> that the event data passes in.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">bushcraftingActivator</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">menuActivator</span>
</code></pre></div>
<h2 id="list">List</h2>
<p>Next, we are going to create a list of recipes to register. A list is used to store multiple items in a single variable. Lists are enclosed in curly braces and each item is separated by a comma, like this:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">recipe1</span>
<span class="kd">local</span> <span class="n">recipe2</span>
<span class="kd">local</span> <span class="n">recipes</span> <span class="o">=</span> <span class="p">{</span> <span class="n">recipe1</span><span class="p">,</span> <span class="n">recipe2</span> <span class="p">}</span>
</code></pre></div>
<p>So this is a list of recipes. For our purposes, we only need one recipe. A list is still a list if it only has one item. Additionally, we can specify its type <code>CraftingFramework.Recipe.data</code> using the <code>@type</code> tag.</p>
<div class="highlight"><pre><span></span><code><span class="c1">--- @type CraftingFramework.Recipe.data</span>
<span class="kd">local</span> <span class="n">recipe</span>
<span class="kd">local</span> <span class="n">recipes</span> <span class="o">=</span> <span class="p">{</span> <span class="n">recipe</span> <span class="p">}</span>
</code></pre></div>
<h2 id="crafting-framework-recipe">Crafting Framework Recipe</h2>
<p>If you hover over <code>recipe</code> in your IDE, you can see a recipe can hold a lot of information.</p>
<p>Since we're making a simple mod, we only need to specify the following:</p>
<p><code>id</code>: the recipe identifier; </p>
<p><code>craftableId</code>, the id of the craftable bandage; </p>
<p><code>description</code>, this one is pretty straight-forward; </p>
<p><code>materials</code>, what you need to craft this bandage. You need to give a list of material requirements here. You can enter Ashfall material id or any object id. A list of Ashfall materials can be found in the table <code>this.materials</code> in <code>mer\ashfall\bushcrafting\config.lua</code>. The idea is that many different items can be classified as the same material, so we don't have to write duplicate recipes for each of the similar or same items. </p>
<p>Next, <code>skillRequirements</code>, a list of skill requirement data. So if we want the character to have at least novice level of bushcrafting to be able to craft a bandage, we can do <code>skillRequirements = { ashfall.bushcrafting.survivalTiers.novice },</code> You can set both vanilla and Skills Module skills as the requirements.</p>
<p><code>soundType</code>, you can specify <code>soundType</code>, <code>soundId</code>, <code>soundPath</code>, or nothing (to use the default sound). This is the sound that plays when players press the Craft button. A list of <code>soundType</code>s can be found in the table <code>constructionSounds</code> in <code>CraftingFramework\components\Craftables.lua</code>. We will use the "fabric" <code>soundType</code>.</p>
<p><code>category</code> can be anything you like but we're going to use one of the Ashfall categories <code>"Other"</code>. A list of Ashfall categories can be found in the table <code>this.categories</code> in <code>mer\ashfall\bushcrafting\config.lua</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">recipe</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">bandageId</span><span class="p">,</span>
    <span class="n">craftableId</span> <span class="o">=</span> <span class="n">bandageId</span><span class="p">,</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Simple cloth bandages for the dressing of wounds.&quot;</span><span class="p">,</span>
    <span class="n">materials</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span> <span class="n">material</span> <span class="o">=</span> <span class="s2">&quot;fabric&quot;</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">},</span>
    <span class="n">skillRequirements</span> <span class="o">=</span> <span class="p">{</span> <span class="n">ashfall</span><span class="p">.</span><span class="n">bushcrafting</span><span class="p">.</span><span class="n">survivalTiers</span><span class="p">.</span><span class="n">novice</span> <span class="p">},</span>
    <span class="n">soundType</span> <span class="o">=</span> <span class="s2">&quot;fabric&quot;</span><span class="p">,</span>
    <span class="n">category</span> <span class="o">=</span> <span class="s2">&quot;Other&quot;</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<p>Finally, use the <code>registerRecipes()</code> function to register our recipe! </p>
<div class="highlight"><pre><span></span><code><span class="n">bushcraftingActivator</span><span class="p">:</span><span class="n">registerRecipes</span><span class="p">(</span><span class="n">recipes</span><span class="p">)</span>
<span class="n">log</span><span class="p">:</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Registered bandage recipe&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="testing">Testing</h2>
<p>Before we launch the game and test the script, if you don't have NullCascade's <a href="https://www.nexusmods.com/morrowind/mods/46071">UI Expansion</a> installed, I highly recommend you install it, as we will use it for our testing.</p>
<p>Once you load into a save, open the console menu by hitting back quote or tilde <code>~</code> key. We want to give the player 5 fabric and level up bushcrafting to 20 to meet the requirement to craft a bandage. </p>
<p>Enter the following two lines in the lua console. You can tell you are typing to the lua console if you see the <strong>lua</strong> button. If yours says mwscript, click on it to switch the lua console. If you don't see any button, enable the console component of UI Expansion in Mod Config Menu.</p>
<div class="highlight"><pre><span></span><code><span class="n">tes3</span><span class="p">.</span><span class="n">addItem</span><span class="p">({</span> <span class="n">reference</span> <span class="o">=</span> <span class="n">tes3</span><span class="p">.</span><span class="n">player</span><span class="p">,</span> <span class="n">item</span> <span class="o">=</span> <span class="s2">&quot;ashfall_fabric&quot;</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">5</span> <span class="p">})</span>
<span class="n">include</span><span class="p">(</span><span class="s2">&quot;OtherSkills.skillModule&quot;</span><span class="p">).</span><span class="n">getSkill</span><span class="p">(</span><span class="s2">&quot;Bushcrafting&quot;</span><span class="p">):</span><span class="n">levelUpSkill</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div>
<p>Let's activate the fabric to open the crafting menu. You should be able to see our Craftable Bandage under the Other category. <strong>Craft</strong>! You have successfully crafted a Bandage!</p>
<p>That's it for today! You've officially made your first MWSE mod! But both the tutorial and the mod are not yet finished. There is still a lot to learn and some features to add. Bye!</p>
<details class="example">
<summary>What your main.lua should look like</summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="cm">--[[</span>
<span class="cm">    Mod: Craftable Bandage</span>
<span class="cm">    Author: Amalie</span>

<span class="cm">    This mod allows you to craft OAAB bandages with novice bushcrafting skill.</span>
<span class="cm">    It serves as an alternative to alchemy and restoration.</span>
<span class="cm">]]</span> <span class="c1">--</span>

<span class="kd">local</span> <span class="n">ashfall</span> <span class="o">=</span> <span class="n">include</span><span class="p">(</span><span class="s2">&quot;mer.ashfall.interop&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">CraftingFramework</span> <span class="o">=</span> <span class="n">include</span><span class="p">(</span><span class="s2">&quot;CraftingFramework&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">skillModule</span> <span class="o">=</span> <span class="n">include</span><span class="p">(</span><span class="s2">&quot;OtherSkills.skillModule&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">logging</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;logging.logger&quot;</span><span class="p">)</span>

<span class="c1">---@type mwseLogger</span>
<span class="kd">local</span> <span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="n">new</span><span class="p">({</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Craftable Bandage&quot;</span><span class="p">,</span>
    <span class="n">logLevel</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
<span class="p">})</span>

<span class="kd">local</span> <span class="n">bandageId</span> <span class="o">=</span> <span class="s2">&quot;AB_alc_Healbandage02&quot;</span>

<span class="c1">--- @param e CraftingFramework.MenuActivator.RegisteredEvent</span>
<span class="kd">local</span> <span class="kr">function</span> <span class="nf">registerBushcraftingRecipe</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="kd">local</span> <span class="n">bushcraftingActivator</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">menuActivator</span>
    <span class="c1">--- @type CraftingFramework.Recipe.data</span>
    <span class="kd">local</span> <span class="n">recipe</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">id</span> <span class="o">=</span> <span class="n">bandageId</span><span class="p">,</span>
        <span class="n">craftableId</span> <span class="o">=</span> <span class="n">bandageId</span><span class="p">,</span>
        <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Simple cloth bandages for the dressing of wounds.&quot;</span><span class="p">,</span>
        <span class="n">materials</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span> <span class="n">material</span> <span class="o">=</span> <span class="s2">&quot;fabric&quot;</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">},</span>
        <span class="n">skillRequirements</span> <span class="o">=</span> <span class="p">{</span> <span class="n">ashfall</span><span class="p">.</span><span class="n">bushcrafting</span><span class="p">.</span><span class="n">survivalTiers</span><span class="p">.</span><span class="n">novice</span> <span class="p">},</span>
        <span class="n">soundType</span> <span class="o">=</span> <span class="s2">&quot;fabric&quot;</span><span class="p">,</span>
        <span class="n">category</span> <span class="o">=</span> <span class="s2">&quot;Other&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="kd">local</span> <span class="n">recipes</span> <span class="o">=</span> <span class="p">{</span> <span class="n">recipe</span> <span class="p">}</span>
    <span class="n">bushcraftingActivator</span><span class="p">:</span><span class="n">registerRecipes</span><span class="p">(</span><span class="n">recipes</span><span class="p">)</span>
    <span class="n">log</span><span class="p">:</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Registered bandage recipe&quot;</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">--- @param e initializedEventData</span>
<span class="kd">local</span> <span class="kr">function</span> <span class="nf">initializedCallback</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">event</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;Ashfall:ActivateBushcrafting:Registered&quot;</span><span class="p">,</span>
                <span class="n">registerBushcraftingRecipe</span><span class="p">)</span>
    <span class="n">log</span><span class="p">:</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Initialized&quot;</span><span class="p">)</span>
<span class="kr">end</span>
<span class="n">event</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">tes3</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">initialized</span><span class="p">,</span> <span class="n">initializedCallback</span><span class="p">,</span>
            <span class="p">{</span> <span class="n">priority</span> <span class="o">=</span> <span class="mi">100</span> <span class="p">})</span> <span class="c1">-- before crafting framework</span>
</code></pre></div></td></tr></table></div>
</details>
<p>Next - <a href="https://amaliegay.github.io/mwse-modding-tutorial/3_mcm/">Section 3: Mod Config Menu, If Statements, Concatenating Strings</a></p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://youtube.com/" target="_blank" rel="noopener" title="youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/amaliegay" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>